import{a as H}from"./chunk-4GB5EAOD.js";import{a as D,b as g,c as V,d as O,f as R,g as B,h as j,i as z,k as A}from"./chunk-XYT62BKB.js";import{Aa as s,Ba as n,Ca as r,Da as u,Ea as F,Fa as S,Ha as b,Ia as f,Ja as U,Ka as a,Ma as v,Qa as h,R as k,Ra as y,Sa as N,T as _,Ta as G,Va as I,ha as x,ib as q,jb as P,kb as T,lb as L,nb as C,pa as o,sa as M,xa as m}from"./chunk-ZGHIUTVW.js";function $(e){let t=e.value,l=["image/png","image/jpeg","image/jpg"];if(t){if(t.size>5e5&&t.size<1e6&&l.includes(t.type))return null}else return null;return{invalidUpload:!0}}function W(e,t){if(e&1&&(F(0),u(1,"img",23),S()),e&2){let l=f();o(1),m("src",l.userForm.value.imageUrl,x)}}function Y(e,t){e&1&&(n(0,"div"),a(1," Name is required! "),r())}function Z(e,t){if(e&1&&(n(0,"div",24),s(1,Y,2,0,"div",25),r()),e&2){let l=f();o(1),m("ngIf",l.formGroup.name.hasError("required"))}}function ee(e,t){e&1&&(n(0,"div"),a(1," Email is required! "),r())}function te(e,t){e&1&&(n(0,"div"),a(1,"invalid format"),r())}function ie(e,t){if(e&1&&(n(0,"div",24),s(1,ee,2,0,"div",25)(2,te,2,0,"div",25),r()),e&2){let l=f();o(1),m("ngIf",l.formGroup.email.hasError("required")),o(1),m("ngIf",l.formGroup.email.hasError("email"))}}function re(e,t){e&1&&(n(0,"div"),a(1," phone number is required! "),r())}function ne(e,t){e&1&&(n(0,"div"),a(1," invalid format "),r())}function oe(e,t){if(e&1&&(n(0,"div",24),s(1,re,2,0,"div",25)(2,ne,2,0,"div",25),r()),e&2){let l=f();o(1),m("ngIf",l.formGroup.phoneNumber.hasError("required")),o(1),m("ngIf",l.formGroup.phoneNumber.hasError("pattern"))}}function me(e,t){e&1&&(n(0,"div"),a(1," profile photo is required! "),r())}function ae(e,t){e&1&&(n(0,"div"),a(1," invalid format, image must be between 500kb and 1mb "),r())}function le(e,t){if(e&1&&(n(0,"div",24),s(1,me,2,0,"div",25)(2,ae,2,0,"div",25),r()),e&2){let l=f();o(1),m("ngIf",l.formGroup.image.hasError("required")),o(1),m("ngIf",l.formGroup.image.hasError("invalidUpload"))}}function pe(e,t){e&1&&u(0,"div",26)}var w=(e,t)=>({"is-invalid":e,"is-valid":t}),J=(()=>{let t=class t{constructor(){this.fb=k(z),this.formSubmitEvent=new M,this.userForm=this.fb.nonNullable.group({name:["",[g.required]],email:["",[g.required,g.email]],phoneNumber:["",[g.required,g.pattern(H)]],dummy:[],image:[void 0,[g.required,$]],imageUrl:[""]})}get formGroup(){return this.userForm.controls}onImageUpload(d){let p=d.target.files,i=p!==null?p[0]:null;this.userForm.patchValue({image:i}),this.userForm.controls.image.updateValueAndValidity();let c=new FileReader;c.onload=()=>{let E=c.result;this.userForm.patchValue({imageUrl:E}),this.userForm.controls.imageUrl.updateValueAndValidity()},c.readAsDataURL(i)}onSubmit(){this.formSubmitEvent.emit(this.userForm.value),this.userForm.reset()}onCancel(){this.userForm.reset()}};t.\u0275fac=function(p){return new(p||t)},t.\u0275cmp=_({type:t,selectors:[["app-user-form"]],outputs:{formSubmitEvent:"formSubmitEvent"},standalone:!0,features:[h],decls:44,vars:29,consts:[[1,"container","mt-5"],[1,"container"],[1,"row"],[1,"card","col-12","col-md-6"],[4,"ngIf","ngIfElse"],[1,"card-body"],[1,"card-text"],["novalidate","",1,"needs-validation","w-100",3,"formGroup"],[1,"mb-3"],["for","name",1,"form-label"],["formControlName","name","type","text","id","name","aria-describedby","userName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","email",1,"form-label"],["formControlName","email","type","email","id","email",1,"form-control",3,"ngClass"],["for","phoneNumber",1,"form-label"],["formControlName","phoneNumber","type","text","id","phoneNumber","aria-describedby","phoneNumberHelpBlock",1,"form-control",3,"ngClass"],["id","phoneNumberHelpBlock",1,"form-text"],["for","image",1,"form-label"],["type","file","id","image","formControlName","dummy",1,"form-control",3,"ngClass","change"],[1,"form-text"],["type","button",1,"btn","btn-primary","me-3",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["blank",""],["alt","profile",1,"card-img-top","mx-auto","mt-3","image-frame",3,"src"],[1,"invalid-feedback"],[4,"ngIf"],[1,"bg-secondary-subtle","rounded","image-frame","mx-auto","mt-3"]],template:function(p,i){if(p&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),s(4,W,2,1,"ng-container",4),n(5,"div",5)(6,"p",6),a(7),N(8,"uppercase"),r(),n(9,"p",6),a(10),r(),n(11,"p",6),a(12),r()()()()(),n(13,"form",7)(14,"div",8)(15,"label",9),a(16,"Name"),r(),u(17,"input",10),s(18,Z,2,1,"div",11),r(),n(19,"div",8)(20,"label",12),a(21,"Email address"),r(),u(22,"input",13),s(23,ie,3,2,"div",11),r(),n(24,"div",8)(25,"label",14),a(26,"Phone number"),r(),u(27,"input",15),n(28,"div",16),a(29,"must be 10 digit"),r(),s(30,oe,3,2,"div",11),r(),n(31,"div",8)(32,"label",17),a(33,"image"),r(),n(34,"input",18),b("change",function(E){return i.onImageUpload(E)}),r(),n(35,"div",19),a(36,"must be between 500kb and 1mb"),r(),s(37,le,3,2,"div",11),r(),n(38,"button",20),b("click",function(){return i.onCancel()}),a(39," Cancel "),r(),n(40,"button",21),b("click",function(){return i.onSubmit()}),a(41," Submit "),r()()(),s(42,pe,1,0,"ng-template",null,22,I)),p&2){let c=U(43);o(4),m("ngIf",i.userForm.value.imageUrl&&i.formGroup.image.valid)("ngIfElse",c),o(3),v("Name : ",G(8,15,i.userForm.value.name),""),o(3),v("Email : ",i.userForm.value.email,""),o(2),v("Phone : ",i.userForm.value.phoneNumber,""),o(1),m("formGroup",i.userForm),o(4),m("ngClass",y(17,w,i.formGroup.name.touched&&i.formGroup.name.errors,i.formGroup.name.valid)),o(1),m("ngIf",i.formGroup.name.touched&&i.formGroup.name.errors),o(4),m("ngClass",y(20,w,i.formGroup.email.touched&&i.formGroup.email.errors,i.formGroup.email.valid)),o(1),m("ngIf",i.formGroup.email.touched&&i.formGroup.email.errors),o(4),m("ngClass",y(23,w,i.formGroup.phoneNumber.touched&&i.formGroup.phoneNumber.errors,i.formGroup.phoneNumber.valid)),o(3),m("ngIf",i.formGroup.phoneNumber.touched&&i.formGroup.phoneNumber.errors),o(4),m("ngClass",y(26,w,i.formGroup.dummy.touched&&i.formGroup.image.errors,i.formGroup.image.valid)),o(3),m("ngIf",i.formGroup.dummy.touched&&i.formGroup.image.errors),o(3),m("disabled",!i.userForm.valid)}},dependencies:[C,q,T,L,A,R,D,V,O,B,j],styles:[".image-frame[_ngcontent-%COMP%]{width:120px;aspect-ratio:1}"]});let e=t;return e})();function se(e,t){e&1&&(n(0,"div",7)(1,"div",8),a(2,"no users added yet....."),r()())}function de(e,t){if(e&1&&(F(0),u(1,"img",13),S()),e&2){let l=f().$implicit;o(1),m("src",l.imageUrl,x)}}function ue(e,t){if(e&1&&(n(0,"div",9),s(1,de,2,1,"ng-container",10),n(2,"div",11)(3,"p",12),a(4),N(5,"uppercase"),r(),n(6,"p",12),a(7),r(),n(8,"p",12),a(9),r()()()),e&2){let l=t.$implicit;f();let d=U(9);o(1),m("ngIf",l.imageUrl)("ngIfElse",d),o(3),v("Name : ",G(5,5,l.name),""),o(3),v("Email : ",l.email,""),o(2),v("Phone : ",l.phoneNumber,"")}}function ce(e,t){e&1&&u(0,"div",14)}var K=(()=>{let t=class t{constructor(){this.usersList=[]}};t.\u0275fac=function(p){return new(p||t)},t.\u0275cmp=_({type:t,selectors:[["app-user-list"]],inputs:{usersList:"usersList"},standalone:!0,features:[h],decls:10,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-12","text-center"],["class","row mt-3",4,"ngIf"],[1,"row","gap-3","justify-content-center"],["class","card col-12 col-md-3",4,"ngFor","ngForOf"],["blank",""],[1,"row","mt-3"],["role","alert",1,"alert","alert-danger"],[1,"card","col-12","col-md-3"],[4,"ngIf","ngIfElse"],[1,"card-body"],[1,"card-text"],["alt","profile",1,"card-img-top","mx-auto","mt-3","image-frame",3,"src"],[1,"bg-secondary-subtle","rounded","image-frame","mx-auto","mt-3"]],template:function(p,i){p&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),a(4,"Users List"),r()()(),s(5,se,3,0,"div",3),n(6,"div",4),s(7,ue,10,7,"div",5),r()(),s(8,ce,1,0,"ng-template",null,6,I)),p&2&&(o(5),m("ngIf",i.usersList.length===0),o(2),m("ngForOf",i.usersList))},dependencies:[C,P,T,L],styles:[".image-frame[_ngcontent-%COMP%]{width:120px;aspect-ratio:1}"]});let e=t;return e})();var Te=(()=>{let t=class t{constructor(){this.usersList=[]}addUser(d){this.usersList=[d,...this.usersList]}};t.\u0275fac=function(p){return new(p||t)},t.\u0275cmp=_({type:t,selectors:[["app-users"]],standalone:!0,features:[h],decls:4,vars:1,consts:[[1,"container","mt-5"],[3,"formSubmitEvent"],[3,"usersList"]],template:function(p,i){p&1&&(n(0,"div",0)(1,"app-user-form",1),b("formSubmitEvent",function(E){return i.addUser(E)}),r(),u(2,"hr")(3,"app-user-list",2),r()),p&2&&(o(3),m("usersList",i.usersList))},dependencies:[C,J,K]});let e=t;return e})();export{Te as UsersComponent};
